<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
</head>
<body>
   
   <div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 border p-4 rounded shadow">
      <h3 class="text-center mb-4">Login</h3>

      <form id="login-form">
        <div class="input-group mb-3">
          <label for="email" class="input-group-text">example@gmail.com</label>
          <input type="email" class="form-control" id="email" placeholder="Email" />
        </div>

        <div class="input-group mb-4">
          <label for="password" class="input-group-text">example123@</label>
          <input type="password" class="form-control" id="password" placeholder="Password" />
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-primary w-100">Login</button>
        </div>
        <div class="mt-3">
          <p>Don't have an account? <a href="signup.html">Signup</a></p>
        </div>
      </form>
    </div>
  </div>
</div>

 <script>
  const email = document.getElementById("email")
  const password = document.getElementById("password")
  const form = document.getElementById("login-form")

  form.addEventListener("submit",(event)=>{
      event.preventDefault()
      const validEmail  = validateEmail()
      const validpassword = validatePassword()
      if(validEmail && validpassword){
        
         const storedData = localStorage.getItem("signupData")
         if(storedData){
           storedData2 = JSON.parse(storedData)
           console.log(storedData2)
       if(email.value.trim()===storedData2.email && password.value.trim()===storedData2.password){
            alert("Login successful")
            window.location.href = "index.html"
         }else{
          alert("Invalid email or Password")
         }
         }else{
           alert("Please signup first")
         }
        
      }
  })

  const validateEmail = ()=>{
    const Email = email.value.trim()
    const emailregex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
   if(!emailregex.test(Email)){
      alert("Enter valid email 'example@gmail.com'")
      return false;
   }
   return true;
   }

   const validatePassword = ()=>{
    const Password = password.value.trim()
    const passwordregex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/
    if(!passwordregex.test(Password)){
        alert("Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character.")
        return false;
    }
    return true
   }
 </script>
</body>
</html>